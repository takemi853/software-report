\documentclass[12pt]{jsarticle}
\usepackage[dvipdfmx]{graphicx}
\usepackage{listings}
\lstset{
  basicstyle={\ttfamily},
  identifierstyle={\small},
  commentstyle={\smallitshape},
  keywordstyle={\small\bfseries},
  ndkeywordstyle={\small},
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  numbers=left,
  xrightmargin=0zw,
  xleftmargin=3zw,
  numberstyle={\scriptsize},
  stepnumber=1,
  numbersep=1zw,
  lineskip=-0.5ex
}             
\begin{document}

\section{コード規約}
プログラムを書いて機能を実装するだけというのは、内容が短くかつ一人で管理する際には対応できるかもしれないが、複数人でかつ長期的に保守・運用するときには、コードを書くだけでなく、他の人にもコードがよみやすくする配慮が重要になってくると考える。そのなかでも、コーディング規約はを守って書くかということは、その見やすさの客観的な指標になりうると思うので、1つものトピックとしては、「コーディング規約」を取り上げる。

講義を受ける前にも{}の位置や演算子の前後には空白を入れるといった、いくつかのコード規則は学んだこともあり、知っていることもあったが、この講義を通してまだ学べていなかったコード規則についても学ぶことができた。

実際に、講義内で学んだことであると、引数が複数行に渡るときのインデントの書き方や、演算子の前で改行するか演算子の後で開業するかといった議論は納得するところもあり、曖昧にしてしまっていた部分でもあったので勉強になった。

また、コードのチェッカーやフォーマッタをVScode内に導入していなかったこともあり、VScode内に flake8とautopepを導入して設定を行った上で、自動保存によりコードのフォーマットを整えられるようにした。これまでは、コードフォーマットを整えようと意識している反面、全てに気を配ることは難しく統一感が薄れてしまう部分もあったが、実際にこれらの拡張機能を追加し活用していくことで、読みやすいコードを意識しつつ統一性のあるコードを書けるようになっていると感じる。

次は、実際に今回のレポート用にいくつかの関数を作成し、それらをPEP8のコード規約に従うように実践したのでそれについてまとめる。これらは演習だけではなく、実際に各トピックの実践を行うことでより活用できるように考えている。

下記のコードでは、後述するgithub上にtips.pyとしてあげている私がよく使うコードを関数化したものである。コード規約にのっとって考えると、演算子の前後に空白を加えることだったり、","の後に空白を加えることは注意して書くべきところであるが注意して書き、コードフォーマッタで、最終的なチェックを行った。

下記のプログラムで実装した関数は以下の3つ。
\begin{itemize}
  \item current\_date : 現在の日付を出力する関数
  \item read\_csv     : csv を読み込む関数 (.csv の省略)
  \item to\_csv\_date  : csv を書き出す関数 ( 日付つきのファイル名 )
\end{itemize}

下記の例では、コード量が少ないこともあり、PEP8のコード規約を十分に実践できたわけではないが、他のプログラムも書いていく過程で複数行に渡るコードを書く場合には曖昧にしてしまうと迷ってしまうことが多い。そのような中でPEP8の規則を学びそれらを実践することで統一性があり、可読性の高いコードを書くことができると感じているので今回はその練習として実践できてよかったと感じる。また、学びきれなかったコード規則もあると思うので、勉強していきたいと感じるとともに、プロジェクトの開発チームごとにも従うべきコード規則というものがそれぞれあると感じるので、基礎を整えた上でそれらにも柔軟に対応できるようにしていきたいと思う。

\begin{lstlisting}[caption=tips.py]
import pandas as pd
import datetime

# 現在の日付を出力する関数
def current_date():
    dt_now = datetime.datetime.now()
    dt_now_format = dt_now.strftime('%Y%m%d')
    return dt_now_format

# csv を読み込む関数 (.csv の省略)
def read_csv(df_name):
    return pd.read_csv(df_name + ".csv")

# csv を書き出す関数 ( 日付つきのファイル名 )
def to_csv_date(df, filename):
    df.to_csv(filename + '_' + current_date() + '.csv')

\end{lstlisting}

\newpage
\section{ドキュメンテーション}
前の課題では、コード規約について取り上げたが、今回のトピックもコード規約と同じく、自分がコードを書いたときに人に読んでもらいやすくするために必要な「ドキュメンテーション」について取り上げる。

コメントの書き方一つをとっても、

\subsection{コメント}

\subsection{docstring}

\subsection{ドキュメント作成ツール}

\subsection{Sph}


\newpage
\section{バージョン管理・GitHub}



\newpage
\section{コンテナ管理}

\end{document}
